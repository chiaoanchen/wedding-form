<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>å©šç¦®å‡ºå¸­å›è¦†</title>
<style>
  body {
    font-family: sans-serif;
    background: #fafafa;
  }
  .container {
    max-width: 520px;
    margin: auto;
    padding: 24px;
    background: #fff;
  }
  .visual {
    width: 100%;
    height: 220px;
    background: #eee;
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #999;
  }
  label {
    display: block;
    margin-top: 16px;
  }
  input, select {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
  }
  button {
    margin-top: 24px;
    width: 100%;
    padding: 12px;
    font-size: 16px;
  }
</style>
</head>

<body>
<div class="container">

  <!-- ğŸ”½ è¦–è¦ºè¨­è¨ˆåœ–æ”¾é€™è£¡ -->
  <div class="visual">
    è¦–è¦ºè¨­è¨ˆåœ–æ”¾ç½®å€
  </div>

  <form id="rsvpForm">

    <label>å§“å
      <input name="name" required>
    </label>

    <label>è¯çµ¡é›»è©±
      <input name="phone" required>
    </label>

    <label>å‡ºå¸­äººæ•¸ï¼ˆå«è‡ªå·±ï¼‰
      <input type="number" name="attendees" min="1" required>
    </label>

    <label>å¬°å…’åº§æ¤…æ•¸
      <input type="number" name="babySeat" min="0" value="0">
    </label>

    <label>é¤é£²éœ€æ±‚
      <select name="meal">
        <option value="è‘·é£Ÿ">è‘·é£Ÿ</option>
        <option value="ç´ é£Ÿ">ç´ é£Ÿ</option>
      </select>
    </label>

    <label>æ˜¯å¦éœ€è¦ç´™æœ¬å–œå¸–
      <select name="paperInvite" id="paperInvite">
        <option value="æ˜¯">æ˜¯</option>
        <option value="å¦">å¦</option>
      </select>
    </label>

    <!-- åœ°å€ -->
    <label id="addressField">
      æ”¶ä»¶åœ°å€
      <input name="address">
    </label>

    <!-- Email -->
    <label id="emailField" style="display:none;">
      Email
      <input type="email" name="email">
    </label>

    <button type="submit">é€å‡ºå›è¦†</button>
  </form>

</div>

<script>
  const paperInvite = document.getElementById('paperInvite');
  const addressField = document.getElementById('addressField');
  const emailField = document.getElementById('emailField');

  paperInvite.addEventListener('change', () => {
    if (paperInvite.value === 'æ˜¯') {
      addressField.style.display = 'block';
      emailField.style.display = 'none';
    } else {
      addressField.style.display = 'none';
      emailField.style.display = 'block';
    }
  });

  document.getElementById('rsvpForm').addEventListener('submit', async (e) => {
    e.preventDefault();

    const f = e.target;
    const data = {
      name: f.name.value,
      phone: f.phone.value,
      attendees: f.attendees.value,
      babySeat: f.babySeat.value,
      meal: f.meal.value,
      paperInvite: f.paperInvite.value,
      address: f.address?.value || '',
      email: f.email?.value || ''
    };

    await fetch('https://script.google.com/macros/s/AKfycbzJkncF54YVBJGNzVfCmww9mH5C_secXlEu7G7tfGlwYbZOtBuN-yogpZdmBawby7cRqg/exec', {
      method: 'POST',
      body: JSON.stringify(data)
    });

    alert('å›è¦†æˆåŠŸï¼Œè¬è¬æ‚¨ï¼');
    f.reset();
  });
</script>

</body>
</html>
